(()=>{"use strict";var n=function(n,t,e,r){return new(e||(e=Promise))((function(i,o){function a(n){try{d(r.next(n))}catch(n){o(n)}}function l(n){try{d(r.throw(n))}catch(n){o(n)}}function d(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(a,l)}d((r=r.apply(n,t||[])).next())}))};console.log("Plugin Datagrid started");class t extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.htmlElement=document.createElement("div"),this.htmlElement.className="content",this.styleElement=document.createElement("style")}connectedCallback(){this.shadow.appendChild(this.styleElement),this.shadow.appendChild(this.htmlElement),this.styleElement.innerHTML="\n\n  :host {\n    display: block;\n    overflow: hidden;\n    width: 100%;\n    padding: 10px 10px;\n    box-sizing: border-box;\n    --gray: #aeaeae;\n    --cell-width: 150px;\n    --theme-primary-04:rgb(126, 126, 126);\n  }\n  \n  .content {\n    overflow-x: auto;\n  }\n\n  table {\n    font-size: 16px;\n    border-collapse: collapse;\n    table-layout: fixed;\n  }\n\n  td, th { \n    border: 1px solid var(--gray); \n    padding: 4px;\n    text-align: left;\n    width: var(--cell-width); \n  }\n\n  .cell {\n    word-wrap: break-word;\n    overflow: hidden; \n    white-space: nowrap;\n    width: var(--cell-width); \n    text-align: left;\n  }\n\n  th {\n    border-top: none;\n    color: var(--gray);\n    font-weight: normal;\n  }\n\n  th:first-child { \n    border-left: none;\n    width: 50px; \n  }\n\n  th:last-child { \n    border-right: none; \n  }\n\n  td:last-child { \n    border-right: none; \n  }\n\n  td:first-child { \n    text-align: center;\n    border-left: none;\n  }\n\n::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-button {\n  display: none;\n}\n\n::-webkit-scrollbar-track {}\n\n::-webkit-scrollbar-track-piece {\n  background-color: var(--theme-primary-04);\n}\n\n::-webkit-scrollbar-corner {\n  background-color: var(--theme-primary-04);\n}\n\n::-webkit-scrollbar-thumb {\n  background-color: var(--theme-primary-06);\n  border-radius: 10px !important;\n}\n",this.refresh()}refresh(){return n(this,void 0,void 0,(function*(){this.htmlElement.innerHTML=yield this.getHtmlContent()}))}getHtmlContent(){return n(this,void 0,void 0,(function*(){console.log("this.data ",this.data);const n=this.getColumns();return`\n      <table>\n        <tr>\n          <th></th>\n          ${n.map((n=>`<th>${n}</th>`)).join("")}\n        </tr>\n        ${this.data.items.map(((t,e)=>`\n          \n          <tr>\n            <td>${e+1}</td>\n            ${n.map((n=>`<td><div class="cell" >${t[n]}</div></td> `)).join("")}\n          <tr>\n\n        `)).join("")}          \n      </table>\n    `}))}getColumns(){return Object.keys(this.data.items[0]).filter((n=>"_id"!==n))}}zySdk.services.registry.registerComponent({id:"custom-datagrid",metadataVersion:2,icon:'\n  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" viewBox="0 0 24 24" fill="#cccccc">    \n    <path d="M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z" />\n  </svg>\n',label:"Data grid",category:"Plugins",subCategory:"Plugins",hidden:!1,properties:[{id:"selection",name:"Selection",type:"row-variable",tootip:"",default:"",write:!0},{id:"data",name:"Table",type:"table",tootip:"The table being used to populate",default:"",main:!0}],styles:[]},t)})();
//# sourceMappingURL=plugin.js.map